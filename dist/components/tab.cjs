"use strict";const t=require("./base-component-DMuoZh8G.js"),v=require("./collapsingClass-CLblascz.js"),c=require("./activeClass-CxJYQAGN.js"),b=require("./fadeClass-Co6nOzNJ.js"),f=require("./showClass-D_Ms1FgG.js"),p=require("./dropdownClasses-CnEyz_iw.js"),y=require("./dataBsToggle-Dj-Ng54N.js"),T=require("./getTargetElement-DananmHP.js"),d="tab",P="Tab",w=`[${y.dataBsToggle}="${d}"]`,S=o=>t.Xn(o,P),B=o=>new M(o),u=t.po(`show.bs.${d}`),E=t.po(`shown.bs.${d}`),C=t.po(`hide.bs.${d}`),G=t.po(`hidden.bs.${d}`),h=new Map,q=o=>{const{tabContent:n,nav:e}=o;n&&t.Gn(n,v.collapsingClass)&&(n.style.height="",t.qn(n,v.collapsingClass)),e&&t.bo.clear(e)},H=o=>{const{element:n,tabContent:e,content:s,nav:l}=o,{tab:a}=t.b(l)&&h.get(l)||{tab:null};if(e&&s&&t.Gn(s,b.fadeClass)){const{currentHeight:i,nextHeight:r}=h.get(n)||{currentHeight:0,nextHeight:0};i!==r?setTimeout(()=>{e.style.height=`${r}px`,t.mo(e),t.no(e,()=>q(o))},50):q(o)}else l&&t.bo.clear(l);E.relatedTarget=a,t.G(n,E)},x=o=>{const{element:n,content:e,tabContent:s,nav:l}=o,{tab:a,content:i}=l&&h.get(l)||{tab:null,content:null};let r=0;if(s&&e&&t.Gn(e,b.fadeClass)&&([i,e].forEach(g=>{g&&t.Kn(g,"overflow-hidden")}),r=i?i.scrollHeight:0),u.relatedTarget=a,G.relatedTarget=n,t.G(n,u),!u.defaultPrevented){if(e&&t.Kn(e,c.activeClass),i&&t.qn(i,c.activeClass),s&&e&&t.Gn(e,b.fadeClass)){const g=e.scrollHeight;h.set(n,{currentHeight:r,nextHeight:g,tab:null,content:null}),t.Kn(s,v.collapsingClass),s.style.height=`${r}px`,t.mo(s),[i,e].forEach(m=>{m&&t.qn(m,"overflow-hidden")})}e&&e&&t.Gn(e,b.fadeClass)?setTimeout(()=>{t.Kn(e,f.showClass),t.no(e,()=>{H(o)})},1):(e&&t.Kn(e,f.showClass),H(o)),a&&t.G(a,G)}},K=o=>{const{nav:n}=o;if(!t.b(n))return{tab:null,content:null};const e=t.Ro(c.activeClass,n);let s=null;e.length===1&&!p.dropdownMenuClasses.some(a=>t.Gn(e[0].parentElement,a))?[s]=e:e.length>1&&(s=e[e.length-1]);const l=t.b(s)?T.getTargetElement(s):null;return{tab:s,content:l}},$=o=>{if(!t.b(o))return null;const n=t.Se(o,`.${p.dropdownMenuClasses.join(",.")}`);return n?t.Ho(`.${p.dropdownMenuClasses[0]}-toggle`,n):null},D=o=>{const n=t.Se(o.target,w),e=n&&S(n);e&&(o.preventDefault(),e.show())};class M extends t.BaseComponent{static selector=w;static init=B;static getInstance=S;constructor(n){super(n);const{element:e}=this,s=T.getTargetElement(e);if(!s)return;const l=t.Se(e,".nav"),a=t.Se(s,".tab-content");this.nav=l,this.content=s,this.tabContent=a,this.dropdown=$(e);const{tab:i}=K(this);if(l&&!i){const r=t.Ho(w,l),g=r&&T.getTargetElement(r);g&&(t.Kn(r,c.activeClass),t.Kn(g,f.showClass),t.Kn(g,c.activeClass),t.Wn(e,t.Pe,"true"))}this._toggleEventListeners(!0)}get name(){return P}show(){const{element:n,content:e,nav:s,dropdown:l}=this;if(s&&t.bo.get(s)||t.Gn(n,c.activeClass))return;const{tab:a,content:i}=K(this);if(s&&a&&h.set(s,{tab:a,content:i,currentHeight:0,nextHeight:0}),C.relatedTarget=n,!t.b(a)||(t.G(a,C),C.defaultPrevented))return;t.Kn(n,c.activeClass),t.Wn(n,t.Pe,"true");const r=t.b(a)&&$(a);if(r&&t.Gn(r,c.activeClass)&&t.qn(r,c.activeClass),s){const g=()=>{a&&(t.qn(a,c.activeClass),t.Wn(a,t.Pe,"false")),l&&!t.Gn(l,c.activeClass)&&t.Kn(l,c.activeClass)};i&&(t.Gn(i,b.fadeClass)||e&&t.Gn(e,b.fadeClass))?t.bo.set(s,g,1):g()}i&&(t.qn(i,f.showClass),t.Gn(i,b.fadeClass)?t.no(i,()=>x(this)):x(this))}_toggleEventListeners=n=>{(n?t.E:t.r)(this.element,t.gt,D)};dispose(){this._toggleEventListeners(),super.dispose()}}module.exports=M;
//# sourceMappingURL=tab.cjs.map
