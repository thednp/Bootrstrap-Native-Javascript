"use strict";const e=require("./base-component-DMuoZh8G.js"),m=require("./dataBsToggle-Dj-Ng54N.js"),g=require("./collapsingClass-CLblascz.js"),h=require("./showClass-D_Ms1FgG.js"),p=require("./getTargetElement-DananmHP.js"),v=require("./isDisabled-BhBg0EpT.js"),l="collapse",u="Collapse",$=`.${l}`,b=`[${m.dataBsToggle}="${l}"]`,q={parent:null},c=a=>e.Xn(a,u),w=a=>new E(a),f=e.po(`show.bs.${l}`),K=e.po(`shown.bs.${l}`),d=e.po(`hide.bs.${l}`),T=e.po(`hidden.bs.${l}`),x=a=>{const{element:t,parent:s,triggers:n}=a;e.G(t,f),f.defaultPrevented||(e.bo.set(t,e.Yt,17),s&&e.bo.set(s,e.Yt,17),e.Kn(t,g.collapsingClass),e.qn(t,l),e.vo(t,{height:`${t.scrollHeight}px`}),e.no(t,()=>{e.bo.clear(t),s&&e.bo.clear(s),n.forEach(o=>e.Wn(o,e.De,"true")),e.qn(t,g.collapsingClass),e.Kn(t,l),e.Kn(t,h.showClass),e.vo(t,{height:""}),e.G(t,K)}))},C=a=>{const{element:t,parent:s,triggers:n}=a;e.G(t,d),d.defaultPrevented||(e.bo.set(t,e.Yt,17),s&&e.bo.set(s,e.Yt,17),e.vo(t,{height:`${t.scrollHeight}px`}),e.qn(t,l),e.qn(t,h.showClass),e.Kn(t,g.collapsingClass),e.mo(t),e.vo(t,{height:"0px"}),e.no(t,()=>{e.bo.clear(t),s&&e.bo.clear(s),n.forEach(o=>e.Wn(o,e.De,"false")),e.qn(t,g.collapsingClass),e.Kn(t,l),e.vo(t,{height:""}),e.G(t,T)}))},D=a=>{const{target:t}=a,s=t&&e.Se(t,b),n=s&&p.getTargetElement(s),o=n&&c(n);s&&v.isDisabled(s)||o&&(o.toggle(),s?.tagName==="A"&&a.preventDefault())};class E extends e.BaseComponent{static selector=$;static init=w;static getInstance=c;constructor(t,s){super(t,s);const{element:n,options:o}=this,i=e.d(n);this.triggers=[...e.ue(b,i)].filter(r=>p.getTargetElement(r)===n),this.parent=e.b(o.parent)?o.parent:e.N(o.parent)?p.getTargetElement(n)||e.Ho(o.parent,i):null,this._toggleEventListeners(!0)}get name(){return u}get defaults(){return q}hide(){const{triggers:t,element:s}=this;e.bo.get(s)||(C(this),t.length&&t.forEach(n=>e.Kn(n,`${l}d`)))}show(){const{element:t,parent:s,triggers:n}=this;let o,i;s&&(o=[...e.ue(`.${l}.${h.showClass}`,s)].find(r=>c(r)),i=o&&c(o)),(!s||!e.bo.get(s))&&!e.bo.get(t)&&(i&&o!==t&&(C(i),i.triggers.forEach(r=>{e.Kn(r,`${l}d`)})),x(this),n.length&&n.forEach(r=>e.qn(r,`${l}d`)))}toggle(){e.Gn(this.element,h.showClass)?this.hide():this.show()}_toggleEventListeners=t=>{const s=t?e.E:e.r,{triggers:n}=this;n.length&&n.forEach(o=>{s(o,e.gt,D)})};dispose(){this._toggleEventListeners(),super.dispose()}}module.exports=E;
//# sourceMappingURL=collapse.cjs.map
