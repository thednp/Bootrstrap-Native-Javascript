!function(e){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=e():module.exports=e:window.Collapse=e()}(function(){var e=function(e,t){t=t||{},this.btn="object"==typeof e?e:document.querySelector(e),this.accordion=null,this.collapse=null,this.duration=300,this.options={},this.options.duration=/ie/.test(document.documentElement.className)?0:t.duration||this.duration,this.init()};e.prototype={init:function(){this.actions(),this.btn.addEventListener("click",this.toggle,!1),window.addEventListener("resize",this.update,!1)},actions:function(){var e=this,t=function(e){var t=e&&e.currentStyle||window.getComputedStyle(e),n=t.borderTopWidth||0,o=/px/.test(t.marginTop)?Math.round(t.marginTop.replace("px","")):0,a=/px/.test(t.marginBottom)?Math.round(t.marginBottom.replace("px","")):0,r=/em/.test(t.marginTop)?Math.round(t.marginTop.replace("em","")*parseInt(t.fontSize)):0,i=/em/.test(t.marginBottom)?Math.round(t.marginBottom.replace("em","")*parseInt(t.fontSize)):0;return e.clientHeight+parseInt(n)+parseInt(o)+parseInt(a)+parseInt(r)+parseInt(i)};this.toggle=function(t){var n=!1;e.btn=e.getTarget(t).btn,e.collapse=e.getTarget(t).collapse,n||(e.collapse.addEventListener("click",e.update,!1),n=!0),/in/.test(e.collapse.className)?e.close(t):e.open(t)},this.close=function(t){t.preventDefault(),e.btn=e.getTarget(t).btn,e.collapse=e.getTarget(t).collapse,e._close(e.collapse),e.btn.className=e.btn.className.replace(" collapsed","")},this.open=function(t){if(t.preventDefault(),e.btn=e.getTarget(t).btn,e.collapse=e.getTarget(t).collapse,e.accordion=e.btn.getAttribute("data-parent")&&e.getClosest(e.btn,e.btn.getAttribute("data-parent")),e._open(e.collapse),e.btn.className+=" collapsed",null!==e.accordion){var n=e.accordion.querySelectorAll(".collapse.in"),o=n.length,a=0;for(a;o>a;a++)n[a]!==e.collapse&&e._close(n[a])}},this._open=function(e){e.className+=" in",e.setAttribute("area-expanded","true"),e.style.height="0px";var t=this.getMaxHeight(e);this._resize(e,t)},this._close=function(t){t.setAttribute("area-expanded","false"),t.className+=" collapsing",t.style.overflowY="hidden",t.style.height="0px",setTimeout(function(){t.style.overflowY="",t.className=t.className.replace(" in collapsing","")},e.options.duration)},this.update=function(t){var n=t.type,o=document.querySelectorAll(".collapse.in"),a=0,r=o.length;if("resize"!==n||/ie/.test(document.documentElement.className))"click"===n&&e._resize(this,e.getMaxHeight(this));else for(a;r>a;a++)e._resize(o[a],e.getMaxHeight(o[a]))},this._resize=function(t,n){t.className+=" collapsing",t.style.overflowY="hidden",t.style.height=n+"px",setTimeout(function(){t.style.overflowY="",t.className=t.className.replace(" collapsing","")},e.options.duration+50)},this.getMaxHeight=function(e){for(var n=0,o=0;o<e.children.length;o++)n+=t(e.children[o]);return n},this.getTarget=function(e){var t=e.currentTarget||e.srcElement,n=t.href&&t.getAttribute("href").replace("#",""),o=t.getAttribute("data-target")&&t.getAttribute("data-target"),a=n||o&&/#/.test(o)&&o.replace("#",""),r=o&&"."===o.charAt(0)&&o,i=a&&document.getElementById(a)||r&&document.querySelector(r);return{btn:t,collapse:i}},this.getClosest=function(e,t){for(var n=t.charAt(0);e&&e!==document;e=e.parentNode){if("."===n&&void 0!==document.querySelector(t))return e;if("#"===n&&e.id===t.substr(1))return e}return!1},window.addEventListener("load",function(){var e=document.querySelectorAll(".collapse"),n=0,o=e.length;for(n;o>n;n++){var a=e[n];if(a&&/in/.test(a.className)){var r=t(a.children[0]);a.style.height=r+"px"}}})}};var t=document.querySelectorAll('[data-toggle="collapse"]'),n=0,o=t.length;for(n;o>n;n++){var a=t[n],r={};r.duration=a.getAttribute("data-duration"),new e(a,r)}return e});