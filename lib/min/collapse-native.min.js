!function(e){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=e():module.exports=e:window.Collapse=e()}(function(){var e=function(e,t){t=t||{},this.isIE=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)?parseFloat(RegExp.$1):!1,this.btn="object"==typeof e?e:document.querySelector(e),this.accordion=null,this.collapse=null,this.duration=300,this.options={},this.options.duration=this.isIE&&this.isIE<10?0:t.duration||this.duration,this.init()};e.prototype={init:function(){this.actions(),this.btn.addEventListener("click",this.toggle,!1),window.addEventListener("resize",this.update,!1)},actions:function(){var e=this,t=-1;this.toggle=function(t){var n=!1;e.btn=e.getTarget(t).btn,e.collapse=e.getTarget(t).collapse,n||(e.collapse.addEventListener("click",e.update,!1),n=!0),/in/.test(e.collapse.className)?e.close(t):e.open(t)},this.close=function(t){t.preventDefault(),e.btn=e.getTarget(t).btn,e.collapse=e.getTarget(t).collapse,e._close(e.collapse),e.btn.className=e.btn.className.replace(" collapsed","")},this.open=function(t){if(t.preventDefault(),e.btn=e.getTarget(t).btn,e.collapse=e.getTarget(t).collapse,e.accordion=e.btn.getAttribute("data-parent")&&e.getClosest(e.btn,e.btn.getAttribute("data-parent")),e._open(e.collapse),e.btn.className+=" collapsed",null!==e.accordion){var n=e.accordion.querySelectorAll(".collapse.in"),i=n.length,s=0;for(s;i>s;s++)n[s]!==e.collapse&&e._close(n[s])}},this._open=function(e){e.className+=" in",e.setAttribute("area-expanded","true"),e.style.height="0px";var t=this.getMaxHeight(e);this._resize(e,t)},this._close=function(t){var n=e.getMaxHeight(t);t.style.height=n+"px",setTimeout(function(){t.setAttribute("area-expanded","false"),t.className+=" collapsing",t.style.overflow="hidden",t.style.height="0px"},1),setTimeout(function(){t.className=t.className.replace(" in collapsing","")},e.options.duration)},this.update=function(n){var i=n.type,s=document.querySelectorAll(".collapse.in"),a=0,o=s.length;if("resize"!==i||this.isIE&&this.isIE<9){if("click"===i){var l=e.getMaxHeight(this);l!==t&&e._resize(this,l)}}else for(a;o>a;a++)e._resize(s[a],e.getMaxHeight(s[a]))},this._resize=function(n,i){t=i,n.className+=" collapsing",n.style.overflow="hidden",n.style.height=i+"px",setTimeout(function(){n.style.overflow=null,n.style.height=null,n.className=n.className.replace(" collapsing","")},e.options.duration+50)},this.getMaxHeight=function(e){return e.scrollHeight},this.getTarget=function(e){var t=e.currentTarget||e.srcElement,n=t.href&&t.getAttribute("href").replace("#",""),i=t.getAttribute("data-target")&&t.getAttribute("data-target"),s=n||i&&/#/.test(i)&&i.replace("#",""),a=i&&"."===i.charAt(0)&&i,o=s&&document.getElementById(s)||a&&document.querySelector(a);return{btn:t,collapse:o}},this.getClosest=function(e,t){for(var n=t.charAt(0);e&&e!==document;e=e.parentNode){if("."===n&&void 0!==document.querySelector(t))return e;if("#"===n&&e.id===t.substr(1))return e}return!1},window.addEventListener("load",function(){var t=document.querySelectorAll(".collapse"),n=0,i=t.length;for(n;i>n;n++){var s=t[n];if(s&&/in/.test(s.className)){var a=e.getMaxHeight(s);s.style.height=a+"px"}}})}};var t=document.querySelectorAll('[data-toggle="collapse"]'),n=0,i=t.length;for(n;i>n;n++){var s=t[n],a={};a.duration=s.getAttribute("data-duration"),new e(s,a)}return e});